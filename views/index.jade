extends layout

block content
    //h1= title
    //p Welcome to #{title}
    script(src='/javascripts/main.js')
    link(rel='stylesheet' href='/stylesheets/style.css')

    div
        .container-fluid(ng-controller='formController as ctrl' ng-cloak)
            .row.text-center
                h1 KB Review Process
                h2 There are currently {{currentData.pendingReview}} docs pending review.
            .row(style='font-family:muli')
                .col-md-6()
                    div(layout="row" layout-padding layout-wrap layout-fill style="padding-bottom: 32px; width: 100% !important;" ng-cloak)
                        div(md-whiteframe class="md-whiteframe-5dp" style='width: 100%')
                            h3 Doc Title :
                                a(id='docLink') {{currentData.docTitle}}
                            //h3 Doc Link : #[a(ng-href={{currentData.docURL}} target="_blank") {{currentData.docId}}]
                            h3 Current Owner : {{currentData.owner}}
                .col-md-6
                    div(layout="row" layout-padding layout-wrap layout-fill style="padding-bottom: 32px; width: 100% !important" ng-cloak)
                        div(md-whiteframe class="md-whiteframe-5dp" style='width: 100%')
                            div( layout='column' ng-cloak class='md-inline-form' id='formDiv')
                                md-content(layout-padding)
                                    div(style='padding-left: 0px; width: 100% !important')
                                        form(ng-submit='processForm(ctrl.selectedItem);ctrl.$setPrestine()' name='contactForm')
                                            div(layout-gt-xs='row')
                                                md-autocomplete(md-selected-item="ctrl.selectedItem" md-search-text="ctrl.searchText" md-items="item in ctrl.querySearch(ctrl.searchText)" md-item-text="item.display" md-min-length="0" placeholder="Enter Group" style='width: 100%')
                                                    md-item-template 
                                                        span(md-highlight-text="ctrl.searchText" md-highlight-flags="^i") {{item.display}}
                                                    md-not-found 
                                                       p No groups matching "{{ctrl.searchText}}" were found. Click outside the box and finish the form to use it
                                                       //#[a(ng-click="ctrl.addGroup(ctrl.searchText)") Create it]
                                                       //a(ng-click="ctrl.addGroup(ctrl.searchText)") Create one!

                                            //div(layout-gt-xs='row')
                                                md-input-container(class='md-block')
                                                    label Desired Owner
                                                    input(ng-model='formData.owner')
                                            //div(layout-get-xs='row')
                                                md-autocomplete(md-selected-item="ctrl.selectedItemOwner" md-search-text="ctrl.searchTextOwner" md-items="owner in ctrl.queryOwners(ctrl.searchTextOwner)" md-item-text="owner.display" md-min-length="0" placeholder="Enter Owner" style='width: 100%')
                                                    md-item-template
                                                        span(md-highlight-text="ctrl.searchTextOwner" md-highlight-flags="^i") {{owner.display}}

                                            div(layout-gt-xs='row')
                                                md-input-container(class='md-block')
                                                    label Topic Comments
                                                    input(type='text' ng-model='formData.commentsTopic' )
                                            div(layout-gt-xs='row')
                                                md-input-container(class='md-block')
                                                    label Ownership Comments
                                                    input(type='text' ng-model='formData.commentsOwnership')


                                            //submit the form on click
                                            div(class='center-block form-group' class='login')
                                                md-button(type='submit' class='md-raised' id='btn' style='padding-left: 0px; margin-left: 0px') submit

